{% load mptt_tags %}
{% load assign %}

{% assign nodes folder_nodes %}

<ul class="tree root">
	{% recursetree nodes %}
		<li id="folders_node_{{ node.id }}" data-folder-type="{{ node.folder_type }}" data-filetype="{{ node.filetype.all.0 }}" data-node-class="{{ node.klass }}">
			{{ node.name }}
			{% if not node.is_leaf_node %}
				<ul class="children">
					{{ children }}
				</ul>
			{% endif %}
		</li>
	{% endrecursetree %}
</ul>	